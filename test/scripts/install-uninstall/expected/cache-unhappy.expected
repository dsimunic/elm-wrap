Running cache-unhappy tests...


=== BEGIN ERR-01: Cache non-existent package ===
[ERROR] I cannot find package 'wrap/does-not-exist'
[ERROR] Make sure the package name is correct
[Registry since-count: 24 -> 24 (Δ0)]
=== END ERR-01 ===

=== BEGIN ERR-02: Cache package with non-existent version ===
[ERROR] Version 9.9.9 not found for package wrap/package-3v-no-deps
[ERROR] Available versions:
[ERROR]   3.0.0
[ERROR]   2.0.0
[ERROR]   1.0.0
[Registry since-count: 24 -> 24 (Δ0)]
=== END ERR-02 ===

=== BEGIN ERR-03: Cache from non-existent file path ===
Error: Path does not exist: /does/not/exist
[Registry since-count: 24 -> 24 (Δ0)]
=== END ERR-03 ===

=== BEGIN ERR-04: Cache with both --from-file and --from-url ===
Error: Package name must be in format 'author/package'
Error: Invalid package name '--from-url'
Usage:
  wrap package cache [OPTIONS] PACKAGE[@VERSION] [PACKAGE[@VERSION]...]
  wrap package cache check PACKAGE [OPTIONS]
  wrap package cache full-scan [OPTIONS]

Download packages into the cache so installs can run offline.

Examples:
  wrap package cache elm/html                    # Download latest elm/html
  wrap package cache elm/html@1.0.0              # Download specific version
  wrap package cache elm/html elm/json           # Cache multiple packages
  wrap package cache elm/html 1.0.0 elm/json     # Mix positional version + latest
  wrap package cache check elm/html              # Check cache status for elm/html
  wrap package cache check elm/html --fix-broken # Re-download broken versions
  wrap package cache full-scan                   # Scan all packages in cache
  wrap package cache --from-file ./pkg elm/html  # Download from local directory
  wrap package cache --from-url URL elm/html     # Download from URL to cache
  wrap package cache --major elm/html            # Download highest major version

Download Options:
  PACKAGE[@VERSION] [PACKAGE[@VERSION]...]   # One or more packages (use @VERSION for specific release)
  PACKAGE VERSION                           # Backwards-compatible positional version (single package)
  --from-file PATH PACKAGE[@VERSION]        # Download from local directory/archive (single package)
  --from-url URL PACKAGE[@VERSION]          # Download from URL to cache (single package)
  --major PACKAGE                           # Download highest available major version (single package)
  --ignore-hash                             # Skip SHA-1 hash verification
  -v, --verbose                             # Show progress reports
  -q, --quiet                               # Suppress progress reports
  --help                                    # Show this help

Check Options:
  --purge-broken                            # Remove broken directories without re-downloading
  --fix-broken                              # Try to re-download broken versions

Full-scan Options:
  -q, --quiet                               # Only show summary counts
  -v, --verbose                             # Show all issues including missing latest
[Registry since-count: 24 -> 24 (Δ0)]
=== END ERR-04 ===

[Registry since-count: 24 -> 24 (Δ0)]
=== END ===

All cache-unhappy tests completed successfully
